syntax = "proto3";

package gophkeeper;

import "internal/proto/user.proto";
import "internal/proto/file.proto";
import "google/protobuf/empty.proto";

option go_package = "./;proto";

message ServicePublicKey {
  bytes public_key = 1;
}

service GophKeeperService {
  rpc Register(user.UserData) returns (ServicePublicKey);
  rpc Login(user.UserData) returns (ServicePublicKey);
  rpc GetUserFiles(google.protobuf.Empty) returns (file.ListFiles);

  rpc UploadFile(stream file.FileStream) returns (file.UploadResponse);
  rpc DownloadFile(file.FileId) returns (stream file.FileStream);
  rpc DeleteFile(file.FileId) returns (google.protobuf.Empty);
}